---
domain: D02
module: M2
title: Nollpekare
layout: module
quiz: Q5
links:
    - title: "Tutorial"
      url: "http://www.cplusplus.com/doc/tutorial/pointers/"
    - title: "Pointer usage"
      url: "http://www.codeproject.com/Articles/11560/Pointers-Usage-in-C-Beginners-to-Advanced#2"
    - title: "Beginner's guide"
      url: "http://www.codeproject.com/Articles/627/A-Beginner-s-Guide-to-Pointers"
---

# Nollpekare

En pekare kan skapas utan att initieras, den innehåller alltså ingen minnesaddress till ett specifikt objekt.
Det kan ställa till problem om man försöker använda pekaren som om den vore initierad, vid till exempel avreferering.
Programet kommer med största sannolikhet att krascha, men det finns metoder för att lösa just det här problemet.

Om en pekare inte pekar på något ska man ha som vana att sätta pekaren till en nollpekare (null-pointer).
Man kan då säga att pekaren inte pekar på något objekt alls.
Det går att kontrollera om en pekare är en nollpekare eller ej med villkorssatser.

__Kodexempel A__

{% highlight c++ linenos %}
    void CheckPtr(float* ptr){
    if (ptr == nullptr){ // if ptr is a null pointer exit
        return;
    }
 
    // otherwise ptr points to something so we can increas it by two
    *ptr += 2.0f;
}
 
int main(){
    // Set the float pointer to null in the declaration, no possibilty for errors!
    float* ptr = nullptr;
    // You can also write 0 or NULL but use nullptr (C++11-standard).
 
    CheckPtr(ptr); // ptr is sent in with null as value, nothing happens
 
    float f = 5.0f;
    ptr = &f;
    CheckPtr(ptr);  //now ptr points to f and f will be increased by 2.0f
}
{% endhighlight %}

### Övningsuppgift 1
Vad skrivs ut till konsolfönstret av följande kod?
{% highlight c++ linenos %}
int* ptr = nullptr;
cout << ptr;
{% endhighlight %}

####Svar:
//not implemented!
{: .spoiler}

### Övningsuppgift 2
Vad skrivs ut till konsolfönstret av följande kod?
{% highlight c++ linenos %}
int* another_ptr;
cout << *another_ptr;
{% endhighlight %}


####Svar:
Probably the program chrashed since the pointer was not initiated!
{: .spoiler}

### Kommentar

a pointer value can be treated as a boolean, it will then evaluate to false if it is the null pointer and true otherwise.

{% highlight c++ linenos %}
// Instead of:
if (ptr == nullptr)
// you can write:
if (!ptr)

// Insted of:
if (ptr != nullptr)
// you can write:
if (ptr)
{% endhighlight %}


